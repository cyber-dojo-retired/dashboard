<script>
/*global cd,$*/
'use strict';
$(() => {

  const initially = cd.urlParam('minute_columns', 'true');
  const checkBox = $('#minute-columns-checkbox');

  cd.createTip($('#minute-columns-wrapper'), "toggle the one-minute<br/>columns on/off");

  checkBox.isChecked = () => checkBox.prop('checked');
  checkBox.toggle = () => checkBox.prop('checked', !checkBox.isChecked());
  checkBox.onClick = () => cd.refresh();

  checkBox.attr('checked', initially === 'true')
          .click(() => checkBox.onClick());

  $('#minute-columns-text').click(() => {
    checkBox.toggle();
    checkBox.onClick();
  });

  cd.minuteColumns = checkBox; // public, cd.refresh() needs to geheckBox onClickstate

});
</script>

<table id="minute-columns-wrapper">
  <tr>
    <td>
      <div id="minute-columns-text">
        minute&nbsp;columns
      </div>
    </td>
    <td>
      <input type="checkbox" id="minute-columns-checkbox"/>
      <label for="minute-columns-checkbox"></label>
    </td>
  </tr>
</table>
