<script>
/*global cd,$*/
'use strict';
$(() => {

  const tipText = "toggle the one-minute<br/>columns on/off";
  cd.createTip($('#minute-columns-wrapper'), tipText);

  const checkBox = $('#minute-columns-checkbox');
  const initially = cd.urlParam('minute_columns', 'true');

  checkBox.attr('checked', initially === 'true')
          .click(() => checkBox.onClick());

  checkBox.isChecked = () => checkBox.prop('checked');
  checkBox.toggle = () => checkBox.prop('checked', !checkBox.isChecked());
  checkBox.onClick = () => cd.refresh();

  $('#minute-columns-text').click(() => {
    checkBox.toggle();
    checkBox.onClick();
  });

  cd.minuteColumns = checkBox; // public as cd.refresh() calls isChecked()

});
</script>

<table id="minute-columns-wrapper">
  <tr>
    <td>
      <div id="minute-columns-text">
        minute&nbsp;columns
      </div>
    </td>
    <td>
      <input type="checkbox" id="minute-columns-checkbox"/>
      <label for="minute-columns-checkbox"></label>
    </td>
  </tr>
</table>
