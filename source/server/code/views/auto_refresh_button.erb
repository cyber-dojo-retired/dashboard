<script>
'use strict';
$(() => {

  const checkBox = $('#auto-refresh-checkbox');

  checkBox.isChecked = () => checkBox.is(':checked');
  checkBox.toggle = () => checkBox.attr('checked', !checkBox.isChecked());

  checkBox.attr('checked', '<%= @auto_refresh %>' === 'true')
          .click(() => cd.dashboardHeartbeat());

  $('#auto-refresh-text').click(() => {
    checkBox.toggle();
    cd.dashboardHeartbeat();
  });

  cd.autoRefresh = checkBox;
  
});
</script>

<table id="auto-refresh-box">
  <tr>
    <td>
      <div id="auto-refresh-text" data-tip="toggle the 10 second<br/>auto-refresh on/off">
        auto&nbsp;refresh
      </div>
    </td>
    <td>
      <input type="checkbox" id="auto-refresh-checkbox"/>
      <label for="auto-refresh-checkbox"></label>
    </td>
  </tr>
</table>
